{"version":3,"sources":["../../../../src/js/content/widget/worker.js"],"names":["self","onmessage","d","e","data","extract","rawData","reqId","arr","len1","len2","itm1","itm2","tmp","i","j","result","length","push","Data","format","Timestamp","Value","postMessage","ts","n","toString"],"mappings":"AAAAA,KAAKC,SAAL,GAAiB,aAAK;AACrB,KAAIC,IAAIC,EAAEC,IAAV;AACAC,SAAQH,EAAEI,OAAV,EAAmBJ,EAAEK,KAArB;AACA,CAHD;;AAKA,SAASF,OAAT,CAAiBD,IAAjB,EAAuBG,KAAvB,EAA8B;AAC7B,KAAIC,MAAMJ,IAAV;AAAA,KACCK,IADD;AAAA,KACOC,IADP;AAAA,KACaC,IADb;AAAA,KACmBC,IADnB;AAAA,KACyBC,GADzB;AAAA,KAC8BC,CAD9B;AAAA,KACiCC,CADjC;AAAA,KAECC,SAAS,EAFV;;AAIAP,QAAOD,IAAIS,MAAX;AACA,MAAKH,IAAE,CAAP,EAAUA,IAAIL,IAAd,EAAoBK,KAAG,CAAvB,EAA0B;AACzBE,SAAOE,IAAP,CAAY,EAAZ;AACAP,SAAOH,IAAIM,CAAJ,CAAP;AACAD,QAAMF,KAAKQ,IAAX;AACAT,SAAOG,IAAII,MAAX;;AAEA;;;;AAIA,OAAKF,IAAEL,OAAK,CAAZ,EAAeK,KAAK,CAApB,EAAuBA,KAAG,CAA1B,EAA6B;AAAE;AAC9BH,UAAOC,IAAIE,CAAJ,CAAP;AACAC,UAAOF,CAAP,EAAUI,IAAV,CAAgB,CAACE,OAAOR,KAAKS,SAAZ,CAAD,EAAyBT,KAAKU,KAA9B,CAAhB;AACA;AACD;AACDtB,MAAKuB,WAAL,CAAiB;AAChBhB,SAAOA,KADS;AAEhBS,UAAQA;AAFQ,EAAjB;AAIA;;AAED,SAASI,MAAT,CAAgBI,EAAhB,EAAoB;AACnB,KAAIC,CAAJ;AACA,SAAQD,GAAGE,QAAH,GAAcT,MAAtB;AACC,OAAK,EAAL;AAASQ,OAAID,KAAK,IAAT,CAAe;AACxB,OAAK,EAAL;AAASC,OAAID,KAAK,IAAT,CAAe;AACxB,OAAK,EAAL;AAASC,OAAID,EAAJ,CAAe;AAHzB;AAKA,QAAOC,CAAP;AACA","file":"worker.js","sourcesContent":["self.onmessage = e => {\r\n\tvar d = e.data;\r\n\textract(d.rawData, d.reqId);\r\n};\r\n\r\nfunction extract(data, reqId) {\r\n\tvar arr = data,\r\n\t\tlen1, len2, itm1, itm2, tmp, i, j,\r\n\t\tresult = [];\r\n\t\r\n\tlen1 = arr.length;\r\n\tfor (i=0; i < len1; i+=1) {\r\n\t\tresult.push([]);\r\n\t\titm1 = arr[i];\r\n\t\ttmp = itm1.Data;\r\n\t\tlen2 = tmp.length;\r\n\t\t\r\n\t\t/* for (j=0; j < len2; j+=1) { // 5000\r\n\t\t\titm2 = tmp[j];\r\n\t\t\tresult[i].push( [format(itm2.Timestamp), itm2.Value] );\r\n\t\t} */\r\n\t\tfor (j=len2-1; j >= 0; j-=1) { // 3000\r\n\t\t\titm2 = tmp[j];\r\n\t\t\tresult[i].push( [format(itm2.Timestamp), itm2.Value] );\r\n\t\t}\r\n\t}\r\n\tself.postMessage({\r\n\t\treqId: reqId,\r\n\t\tresult: result\r\n\t});\r\n}\r\n\r\nfunction format(ts) {\r\n\tvar n;\r\n\tswitch (ts.toString().length) {\r\n\t\tcase 10: n = ts * 1000; break;\r\n\t\tcase 16: n = ts / 1000; break;\r\n\t\tcase 13: n = ts;        break;\r\n\t}\r\n\treturn n;\r\n}"]}